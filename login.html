<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Login - Rice Tennis Academy</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 0; }
    header, footer { background-color: #0c3c78; color: white; text-align: center; padding: 20px; }
    nav { background-color: #092e5e; display: flex; justify-content: center; }
    nav a { color: white; padding: 14px 20px; text-decoration: none; }
    nav a:hover { background-color: #0f4fa0; }
    .form-container { max-width: 400px; margin: 40px auto; padding: 20px; border: 1px solid #ccc; border-radius: 10px; }
    input { width: 100%; padding: 10px; margin-bottom: 10px; }
    button { padding: 10px 20px; background-color: #0c3c78; color: white; border: none; cursor: pointer; }
    button:hover { background-color: #0f4fa0; }
  </style>
</head>
<body>

<header>
  <h1>C2 Tennis Academy</h1>
  <p>Developing Champions On and Off the Court</p>
</header>

<nav>
  <a href="index.html">Home</a>
  <a href="about.html">About</a>
  <a href="programs.html">Programs</a>
  <a href="schedule.html">Schedule</a>
  <a href="contact.html">Contact</a>
</nav>

<div class="form-container">
  <h2>Login</h2>
  <form id="loginForm">
    <input type="text" id="username" name="username" placeholder="Username" required />
    <input type="password" id="password" name="password" placeholder="Password" required />
    <button type="submit">Login</button>
  </form>
</div>

<footer>
  <p>&copy; 2025 C2 Tennis Academy. All rights reserved.</p>
</footer>

<!-- âœ… SCRIPT SHOULD BE HERE -->
<script>
  document.getElementById('loginForm').addEventListener('submit', async function (e) {
    e.preventDefault();

    const username = document.getElementById('username').value.trim();
    const password = document.getElementById('password').value.trim();

    try {
      const response = await fetch('/api/login', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ username, password })
      });

      if (response.ok) {
        const data = await response.json();
document.cookie = `userFirstName=${encodeURIComponent(data.firstName)}; path=/`;
window.location.href = 'index.html';

      } else {
        const errorText = await response.text();
        alert('Login failed: ' + errorText);
      }
    } catch (error) {
      alert('An error occurred: ' + error.message);
    }
  });
</script>

</body>
</html>




